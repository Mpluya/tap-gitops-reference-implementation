apiVersion: v1
kind: Namespace
metadata:
  name: metadata-store-secrets
---
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: store-ca-cert
  namespace: metadata-store-secrets
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURIakNDQWdhZ0F3SUJBZ0lRQmR3KzVaQ09HblB0RVkxYlkrQlV1akFOQmdrcWhraUc5dzBCQVFzRkFEQXAKTVNjd0pRWURWUVFERXg1MFlYQXRhVzVuY21WemN5MXpaV3htYzJsbmJtVmtMWEp2YjNRdFkyRXdIaGNOTWpNdwpOekkxTWpBME9UUTRXaGNOTWpNeE1ESXpNakEwT1RRNFdqQXBNU2N3SlFZRFZRUURFeDUwWVhBdGFXNW5jbVZ6CmN5MXpaV3htYzJsbmJtVmtMWEp2YjNRdFkyRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUsKQW9JQkFRRG5KbmhSVVdOSVFsNVRjNEJXYUx5NzJGa01tQUNqajFWNEhvbE81UlJhZGRSNGtjNXdRaUwyODEzZAo5VkdkVEI4VjNxNmRvT0pPQW1QZ3NLaGdwMnZuaHJEMk16MkpxbWNOVW1iUllETDdHQkE1ZHdpaTdMQkx6ZUxGCmd0VUlJRE5xM0dsdHl3MndWbFJLUzdFbG4wQUZxUDVLbjlMM3d0YXJKRmN0YTNyT29OYXgrNENKNlQ1Y3BnZTcKRThJaGZpaWNYakF4T0EycmUxSWdGRDRJNDFyN2hzRWtVRlRsZ2syRW5DbzhNKy8vbmZ4aDltVTNpczVGNjVFVQpFUWdSOG5heXM4RXZJN2RmOUZYR093dmtuUEhjdzU1T1VqbE4vdzA5MGl6V1l4YWFBR0swd2NjOVhQVm52dHF3CnVxZ2gxb1Jmd21zRE5WaDVrdDlXa1YrNTZIalJBZ01CQUFHalFqQkFNQTRHQTFVZER3RUIvd1FFQXdJQ3BEQVAKQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlRwUVErMlpDc0ZLS2liRlZRTlduWXhuZkdrY1RBTgpCZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUF5d2NrZmg4M0ZqSkxkbERDa0E2M2FtNFZIT1RXeDc3elhRbFBMekg4CkRMeUkzTUV4WThCejQwRm9zMjhGZENRaDVOelIvTU9NVU5LZ3pXMEQrWHYzaFphdy9aUDJQaDcycHRUeXo5cjIKM0F1Q2h0a2lEdjlCTG02U1ovUFptWnJhbUEyei9ienpESGwxMUlWNWNMZzNtZkNGY3VFWGd3bnJuWWZQMVpiKwpmYm1sZUd3RUx5VldML0E3Vk5teFpob0sydy8xSXdjVmRJM0FaRzVZQzdSRHFPZmd4WWFTUm1ETDdwSFUrSXBKCmpOczRDQ0x6RUh4NjhqbmIva0hpQklKTy9NS3NzcFFvaFA3WkpFY0pDak9kZHFiUVFOcmY1N09IeFhpdnM5b3MKQ2R5bFVLMGltVVdydlZNMDZQRFgwdURLdkNrYU1semtQb1BOU3pqQk8xRUJUUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: store-auth-token
  namespace: metadata-store-secrets
spec:
  secretStoreRef:
    name: cluster-secret-store
    kind: ClusterSecretStore
  refreshInterval: "1m"
  data:
  - secretKey: auth_token
    remoteRef:
      key: dev/tap-build/tap/tenant-install-secrets
      property: auth_token
---
apiVersion: secretgen.carvel.dev/v1alpha1
kind: SecretExport
metadata:
  name: store-ca-cert
  namespace: metadata-store-secrets
spec:
  toNamespaces: 
  - "*"
---
apiVersion: secretgen.carvel.dev/v1alpha1
kind: SecretExport
metadata:
  name: store-auth-token
  namespace: metadata-store-secrets
spec:
  toNamespaces: 
  - "*"